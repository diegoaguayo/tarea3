(this.webpackJsonptareareact=this.webpackJsonptareareact||[]).push([[0],{51:function(t,e,n){},83:function(t,e,n){},86:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n.n(c),r=n(24),o=n.n(r),s=(n(51),n(2)),a=n(46),j=n.n(a)()("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/",{path:"/flights"}),u=n(5),l=n(4),b=n(88),O=n(92),f=n(93),h=n(89),d=n(90),p=n(91),g=n(6),x=n.n(g),v=(n(83),n(1));function m(t){var e=t.flights.map((function(t){return Object(v.jsx)(S,{flight:t},t.code)})),n=Object(c.useState)({}),i=Object(s.a)(n,2),r=i[0],o=i[1],a=Object(c.useState)([]),f=Object(s.a)(a,2),h=f[0],d=f[1];Object(c.useEffect)((function(){j.on("POSITION",(function(t){!function(t){d((function(e){return[].concat(Object(l.a)(e),[t])})),r[t.code]=t,console.log(r),o(Object(u.a)({},r))}(t)}))}),[]);var p=h.map((function(t){return Object(v.jsx)(F,{flight:t})})),g=Object.keys(r).map((function(t){return Object(v.jsx)(I,{airplane:r[t]})}));return Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:'MAPA "En vivo"'}),Object(v.jsxs)(b.a,{center:[51.505,-.09],zoom:2,scrollWheelZoom:!1,children:[Object(v.jsx)(O.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),g,e,p]})]})}function S(t){var e=t.flight,n=[e.origin,e.destination];return Object(v.jsxs)("div",{children:[Object(v.jsx)(f.a,{center:e.origin,radius:200}),Object(v.jsx)(h.a,{positions:n}),Object(v.jsx)(f.a,{center:e.destination,radius:1e3})]})}function F(t){var e=t.flight;return Object(v.jsx)(f.a,{center:e.position,pathOptions:{fillColor:"black"},radius:200})}function I(t){var e=t.airplane,n=x.a.icon({iconUrl:"https://upload.wikimedia.org/wikipedia/commons/c/c2/20_airtransportation.svg",iconSize:[50,50],iconAnchor:[25,59]});return Object(v.jsx)(d.a,{position:e.position,icon:n,children:Object(v.jsxs)(p.a,{children:["Airplane: ",e.code]})})}function k(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],i=e[1],r=Object(c.useState)({}),o=Object(s.a)(r,2);o[0],o[1];Object(c.useEffect)((function(){j.emit("FLIGHTS"),j.on("FLIGHTS",(function(t){i(t)}))}),[]);var a=n.map((function(t){return Object(v.jsx)("li",{children:Object(v.jsx)(L,{flight:t})})}));return Object(v.jsxs)("div",{children:[Object(v.jsx)(m,{flights:n}),Object(v.jsx)("p",{children:" INFORMACION DE LOS VUELOS "}),Object(v.jsx)("button",{onClick:function(){j.emit("FLIGHTS")},children:"Refresh Flights"}),Object(v.jsx)("ul",{children:a})]})}function L(t){return t.flight.code}n(29);var w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,94)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),c(t),i(t),r(t),o(t)}))};o.a.render(Object(v.jsxs)(i.a.StrictMode,{children:[Object(v.jsx)(k,{}),Object(v.jsx)("br",{})]}),document.getElementById("root")),w()}},[[86,1,2]]]);
//# sourceMappingURL=main.7c9619bc.chunk.js.map